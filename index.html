<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMOC | PRE-LAUNCH</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Oswald (Condensed/Brutal) and Space Mono (Tech/Cold) -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <style>
        /* --- CORE AESTHETICS --- */
        :root {
            --bg-color: #000000;
            --text-color: #ffffff;
            --font-head: 'Oswald', sans-serif;
            --font-mono: 'Space Mono', monospace;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow: hidden; /* Control the flow */
            cursor: none; /* Hide default cursor for custom one */
            user-select: none;
            -webkit-font-smoothing: antialiased;
        }

        /* --- TYPOGRAPHY UTILS --- */
        .font-brutal { font-family: var(--font-head); text-transform: uppercase; letter-spacing: -0.02em; }
        .font-cold { font-family: var(--font-mono); }
        
        /* --- GRAIN OVERLAY --- */
        .noise-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 50;
            opacity: 0.07;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            animation: noiseMove 0.5s steps(10) infinite;
        }
        @keyframes noiseMove {
            0% { transform: translate(0,0); }
            10% { transform: translate(-5%, -5%); }
            20% { transform: translate(-10%, 5%); }
            30% { transform: translate(5%, -10%); }
            40% { transform: translate(-5%, 15%); }
            50% { transform: translate(-10%, 5%); }
            60% { transform: translate(15%, 0); }
            70% { transform: translate(0, 10%); }
            80% { transform: translate(-15%, 0); }
            90% { transform: translate(10%, 5%); }
            100% { transform: translate(5%, 0); }
        }

        /* --- FROST TORCH CURSOR --- */
        .cursor-torch {
            position: fixed;
            top: 0; left: 0;
            width: 300px; height: 300px;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 30%, rgba(0,0,0,0) 70%);
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: screen;
            transition: width 0.2s ease, height 0.2s ease;
        }
        .cursor-dot {
            position: fixed;
            top: 0; left: 0;
            width: 6px; height: 6px;
            background: white;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 10000;
        }

        /* --- GLITCH EFFECTS --- */
        .glitch-text {
            position: relative;
        }
        .glitch-text::before, .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: var(--bg-color);
        }
        .glitch-text::before {
            left: 2px;
            text-shadow: -1px 0 red;
            clip: rect(24px, 550px, 90px, 0);
            animation: glitch-anim-2 3s infinite linear alternate-reverse;
            display: none; /* Only show on trigger */
        }
        .glitch-text::after {
            left: -2px;
            text-shadow: -1px 0 blue;
            clip: rect(85px, 550px, 140px, 0);
            animation: glitch-anim 2.5s infinite linear alternate-reverse;
            display: none; /* Only show on trigger */
        }
        .glitching::before, .glitching::after { display: block; }

        @keyframes glitch-anim {
            0% { clip: rect(13px, 9999px, 81px, 0); }
            20% { clip: rect(68px, 9999px, 8px, 0); }
            40% { clip: rect(26px, 9999px, 140px, 0); }
            60% { clip: rect(3px, 9999px, 60px, 0); }
            80% { clip: rect(96px, 9999px, 126px, 0); }
            100% { clip: rect(62px, 9999px, 4px, 0); }
        }

        /* --- UTILITY ANIMATIONS --- */
        .fade-in { animation: fadeIn 1s ease forwards; }
        .fade-out { animation: fadeOut 0.5s ease forwards; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

        /* --- BUTTON STYLES --- */
        .btn-cold {
            border: 1px solid white;
            color: white;
            background: transparent;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            padding: 1rem 3rem;
            transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
            position: relative;
            overflow: hidden;
        }
        .btn-cold:hover {
            background: white;
            color: black;
            box-shadow: 0 0 15px rgba(255,255,255,0.5);
        }
        
        .frost-grow::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255,255,255,0.8);
            filter: blur(8px);
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .btn-cold:hover .frost-grow::before { opacity: 0.3; }

        /* The Shake Animation for NO button */
        .shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        /* --- FREEZE LINE --- */
        .freeze-line-container {
            width: 100%;
            height: 2px;
            background: #222;
            position: relative;
            margin: 2rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .freeze-progress {
            height: 100%;
            background: white;
            width: 0%; /* JS will control */
            position: absolute;
            transition: width 1s linear;
            box-shadow: 0 0 10px white;
        }
        .freeze-particles {
            position: absolute;
            width: 100%; height: 20px;
            top: -10px;
            background: url('data:image/svg+xml;utf8,<svg width="100" height="20" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="1" fill="white" opacity="0.5"/></svg>');
            opacity: 0.3;
        }

        /* --- CRACK ANIMATION (Launch) --- */
        .crack-line {
            position: fixed;
            top: 50%; left: 50%;
            width: 120vw; height: 10px;
            background: white;
            transform: translate(-50%, -50%) rotate(45deg) scaleX(0);
            z-index: 80;
            transition: transform 0.1s cubic-bezier(0.19, 1, 0.22, 1);
        }
        
    </style>
</head>
<body class="h-screen w-screen flex flex-col items-center justify-center relative">

    <!-- GRAIN OVERLAY -->
    <div class="noise-overlay"></div>

    <!-- CUSTOM CURSOR -->
    <div id="cursorTorch" class="cursor-torch"></div>
    <div id="cursorDot" class="cursor-dot"></div>

    <!-- === SCREEN 0: LOADING === -->
    <section id="loadingScreen" class="absolute inset-0 z-40 bg-black flex items-center justify-center">
        <p id="loadingText" class="font-cold text-sm md:text-base tracking-widest text-white animate-pulse">
            INITIALIZING COLD PROTOCOL...
        </p>
    </section>

    <!-- === SCREEN 1: THE COLD TEST === -->
    <section id="testScreen" class="absolute inset-0 z-30 bg-black flex flex-col items-center justify-center hidden">
        <h2 class="font-brutal text-3xl md:text-5xl mb-12 tracking-wide text-center px-4">ARE YOU SELF-MADE?</h2>
        
        <div class="flex gap-12 items-center">
            <button id="btnYes" class="btn-cold font-cold text-sm md:text-lg frost-grow">
                YES
            </button>
            <button id="btnNo" class="font-cold text-sm md:text-lg text-gray-400 border border-gray-800 px-12 py-4 tracking-widest transition-colors duration-200">
                NO
            </button>
        </div>
        <p id="rejectText" class="font-cold text-red-600 mt-8 opacity-0 tracking-widest text-xs md:text-sm absolute bottom-1/4">
            COME BACK WHEN YOU ARE.
        </p>
    </section>

    <!-- === SCREEN 2: MAIN CONTENT === -->
    <section id="mainScreen" class="absolute inset-0 z-20 bg-black flex flex-col items-center justify-center hidden px-4">
        
        <!-- HEADER -->
        <div class="text-center mb-8 relative group cursor-pointer" id="brandTitle">
            <h1 class="font-brutal text-7xl md:text-9xl leading-none tracking-tighter mix-blend-difference select-none glitch-text" data-text="SMOC">SMOC</h1>
            <p class="font-cold text-xs md:text-sm tracking-[0.5em] mt-2 opacity-80">SELF MADE. OWN THE COLD.</p>
        </div>

        <div class="font-cold text-xs text-gray-500 animate-pulse mb-8">THE COLD IS COMING</div>

        <!-- FREEZE LINE AREA -->
        <div class="w-full max-w-4xl relative my-8">
            <div class="flex justify-between font-cold text-[10px] md:text-xs text-gray-400 mb-2 uppercase">
                <span>Freeze Level</span>
                <span id="countdownDisplay">--.--.--</span>
            </div>
            
            <div class="freeze-line-container cursor-pointer group" id="freezeContainer">
                <div class="w-full h-[1px] bg-gray-900 absolute"></div>
                <!-- The center block that grows -->
                <div id="freezeBar" class="h-1 bg-white absolute left-1/2 transform -translate-x-1/2 w-0 transition-all duration-1000"></div>
                <!-- Frost particles -->
                <div class="absolute w-full h-full flex justify-center items-center pointer-events-none">
                   <div class="w-2 h-2 bg-white rotate-45 transition-transform duration-300 group-hover:scale-150 group-active:scale-50"></div> 
                </div>
            </div>

            <p id="freezeMessage" class="text-center font-cold text-[10px] text-gray-600 mt-2 transition-colors duration-200">
                When the freeze reaches the edge, the real world gets cold.
            </p>
        </div>

        <!-- CTA -->
        <div class="mt-8 text-center flex flex-col items-center gap-4">
            <a href="https://www.instagram.com/smoc_co?igsh=MXcxbXp5MHczZzZiaA==" target="_blank" class="btn-cold font-brutal text-xl tracking-widest group relative">
                <span class="relative z-10 group-hover:glitch-text" data-text="FOLLOW THE COLD">FOLLOW THE COLD</span>
            </a>
            <span class="font-cold text-xs text-gray-500 tracking-widest">@smoc.official</span>
        </div>

        <!-- FOOTER -->
        <div class="absolute bottom-6 font-cold text-[10px] text-gray-700">
            &copy; 2025 SMOC
        </div>
    </section>

    <!-- === LAUNCH OVERLAY (Hidden by default) === -->
    <div id="launchOverlay" class="fixed inset-0 z-[100] pointer-events-none hidden">
        <div id="crackGraphic" class="crack-line"></div>
        <div id="whiteFlash" class="absolute inset-0 bg-white opacity-0 transition-opacity duration-200"></div>
        <div id="postLaunchMessage" class="absolute inset-0 bg-black flex items-center justify-center opacity-0 transition-opacity duration-1000">
            <h1 class="font-brutal text-4xl md:text-6xl text-white glitch-text" data-text="PREPARE TO OWN THE COLD">PREPARE TO OWN THE COLD</h1>
        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // CONFIGURATION
        const CONFIG = {
            launchDate: new Date('2025-12-14T18:00:00+05:30'), // Dec 14, 2025 6PM IST
            startDate: new Date('2024-12-01T00:00:00+05:30'), // Reference point for progress bar "growth"
            instagramUrl: "https://www.instagram.com/smoc_co?igsh=MXcxbXp5MHczZzZiaA=="
        };

        // DOM ELEMENTS
        const cursorTorch = document.getElementById('cursorTorch');
        const cursorDot = document.getElementById('cursorDot');
        const loadingScreen = document.getElementById('loadingScreen');
        const testScreen = document.getElementById('testScreen');
        const mainScreen = document.getElementById('mainScreen');
        const btnNo = document.getElementById('btnNo');
        const btnYes = document.getElementById('btnYes');
        const rejectText = document.getElementById('rejectText');
        const freezeBar = document.getElementById('freezeBar');
        const countdownDisplay = document.getElementById('countdownDisplay');
        const launchOverlay = document.getElementById('launchOverlay');
        const crackGraphic = document.getElementById('crackGraphic');
        const whiteFlash = document.getElementById('whiteFlash');
        const postLaunchMessage = document.getElementById('postLaunchMessage');
        const brandTitle = document.getElementById('brandTitle');
        const titleText = brandTitle.querySelector('h1');

        // NEW ELEMENTS
        const freezeContainer = document.getElementById('freezeContainer');
        const freezeMessage = document.getElementById('freezeMessage');
        const originalFreezeText = "When the freeze reaches the edge, the real world gets cold.";

        // STATE
        let easterEggCount = 0;
        let isLaunched = false;

        // --- INIT ---
        window.addEventListener('load', () => {
            // Check Immediate Launch
            const now = new Date();
            if (now >= CONFIG.launchDate) {
                // If loaded after launch date, skip everything and go to post-launch
                loadingScreen.style.display = 'none';
                triggerPostLaunchState();
            } else {
                // Start Normal Flow
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    testScreen.style.display = 'flex';
                    testScreen.classList.add('fade-in');
                }, 1800);
            }
            
            startCountdown();
        });

        // --- CURSOR LOGIC ---
        document.addEventListener('mousemove', (e) => {
            cursorDot.style.left = e.clientX + 'px';
            cursorDot.style.top = e.clientY + 'px';
            
            // Torch lags slightly for fluid feel - using simple follow here for performance
            cursorTorch.style.left = e.clientX + 'px';
            cursorTorch.style.top = e.clientY + 'px';
        });

        // --- SCREEN 1: THE TEST INTERACTIONS ---
        
        // NO Button Logic
        btnNo.addEventListener('mouseenter', () => {
            btnNo.classList.add('shake');
            // Randomly freeze cursor (simulated by stopping torch update visually or just styling)
            cursorDot.style.width = '2px';
            cursorDot.style.height = '2px';
            
            setTimeout(() => btnNo.classList.remove('shake'), 500);
        });

        btnNo.addEventListener('mouseleave', () => {
             cursorDot.style.width = '6px';
             cursorDot.style.height = '6px';
        });

        btnNo.addEventListener('click', () => {
            // Freeze Interaction
            document.body.style.cursor = 'wait'; // System cursor fallback
            rejectText.style.opacity = '1';
            rejectText.classList.add('animate-pulse');
            
            // Disable interactions briefly
            btnYes.style.pointerEvents = 'none';
            btnNo.style.pointerEvents = 'none';

            setTimeout(() => {
                rejectText.style.opacity = '0';
                rejectText.classList.remove('animate-pulse');
                btnYes.style.pointerEvents = 'auto';
                btnNo.style.pointerEvents = 'auto';
                document.body.style.cursor = 'none';
            }, 2000);
        });

        // YES Button Logic
        btnYes.addEventListener('click', () => {
            // Glitch Transition
            testScreen.classList.add('glitching'); // Add some visual noise
            
            // Hard Cut
            setTimeout(() => {
                testScreen.style.display = 'none';
                mainScreen.style.display = 'flex';
                mainScreen.classList.add('fade-in');
                
                // Trigger title glitch once
                titleText.classList.add('glitching');
                setTimeout(() => titleText.classList.remove('glitching'), 500);
            }, 300);
        });

        // --- SCREEN 2: MAIN LOGIC ---

        // Easter Egg
        brandTitle.addEventListener('click', () => {
            easterEggCount++;
            if (easterEggCount === 3) {
                // Instant frost expand
                cursorTorch.style.width = '150vw';
                cursorTorch.style.height = '150vw';
                cursorTorch.style.transition = 'all 1s ease-out';
                cursorTorch.style.background = 'radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.1) 40%, rgba(0,0,0,0) 80%)';
                
                setTimeout(() => {
                    // Reset
                    cursorTorch.style.width = '300px';
                    cursorTorch.style.height = '300px';
                    cursorTorch.style.background = 'radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 30%, rgba(0,0,0,0) 70%)';
                    cursorTorch.style.transition = 'width 0.2s ease, height 0.2s ease';
                    easterEggCount = 0;
                }, 1200);
            }
        });

        // Freeze Line Interaction
        freezeContainer.addEventListener('click', () => {
            if (isLaunched) return;

            // 1. Surge Animation
            const currentWidth = parseFloat(freezeBar.style.width) || 0;
            // Temporarily override transition for snap effect
            freezeBar.style.transition = 'width 0.1s cubic-bezier(0.19, 1, 0.22, 1)';
            // Surge forward by 15%, max 100%
            freezeBar.style.width = Math.min(currentWidth + 15, 100) + '%';
            
            // 2. Shake Container
            freezeContainer.classList.add('shake');
            
            // 3. Update Message
            freezeMessage.innerText = "YOU CAN'T RUSH GREATNESS.";
            freezeMessage.classList.remove('text-gray-600');
            freezeMessage.classList.add('text-white', 'tracking-widest'); 
            
            // 4. Revert
            setTimeout(() => {
                freezeContainer.classList.remove('shake');
                
                freezeMessage.classList.remove('text-white', 'tracking-widest');
                freezeMessage.classList.add('text-gray-600');
                freezeMessage.innerText = originalFreezeText;
                
                // Let the next interval tick reset the width naturally
                // But ensure transition is reset to smooth
                freezeBar.style.transition = 'width 1s linear';
            }, 1000);
        });

        // Countdown & Freeze Line Logic
        function startCountdown() {
            const timer = setInterval(() => {
                const now = new Date().getTime();
                const launchTime = CONFIG.launchDate.getTime();
                const startTime = CONFIG.startDate.getTime();
                const distance = launchTime - now;

                if (distance < 0) {
                    clearInterval(timer);
                    if (!isLaunched) launchSequence();
                    return;
                }

                // Time Format: 14.12 â€” 18:00
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                // Formatted string
                const d = CONFIG.launchDate;
                const dateStr = `${d.getDate()}.${d.getMonth()+1}.${d.getFullYear()}`;
                
                // Simple countdown display for technical feel
                const daysLeft = String(days).padStart(2, '0');
                const hoursLeft = String(hours).padStart(2, '0');
                const minLeft = String(minutes).padStart(2, '0');
                const secLeft = String(seconds).padStart(2, '0');
                
                countdownDisplay.innerText = `${daysLeft}d:${hoursLeft}h:${minLeft}m:${secLeft}s`;

                // Progress Bar Logic (Growing from Center)
                // Calculate percentage elapsed since 'start date' relative to total duration
                const totalDuration = launchTime - startTime;
                const elapsed = now - startTime;
                let percent = (elapsed / totalDuration) * 100;
                if (percent > 100) percent = 100;
                if (percent < 0) percent = 0;

                // Only update if not currently shaking (prevents fighting during the interaction)
                if (!freezeContainer.classList.contains('shake')) {
                    freezeBar.style.width = `${percent}%`;
                }

                // Random occasional glitch
                if (Math.random() > 0.995) {
                    titleText.classList.add('glitching');
                    setTimeout(() => titleText.classList.remove('glitching'), 150);
                }

            }, 1000);
        }

        // --- LAUNCH SEQUENCE ---
        function launchSequence() {
            isLaunched = true;
            launchOverlay.style.display = 'block';
            
            // 1. Freeze line snaps to full
            freezeBar.style.transition = 'none';
            freezeBar.style.width = '100%';

            // 2. Crack Animation
            setTimeout(() => {
                crackGraphic.style.transform = "translate(-50%, -50%) rotate(45deg) scaleX(1)";
            }, 100);

            // 3. Screen Flash White
            setTimeout(() => {
                whiteFlash.style.opacity = '1';
            }, 600);

            // 4. Cut to Black & Show Text
            setTimeout(() => {
                // Hide main screen content underneath
                mainScreen.style.display = 'none';
                whiteFlash.style.opacity = '0'; // Fade out flash to reveal black bg of overlay
                
                // Show message
                setTimeout(() => {
                   postLaunchMessage.style.opacity = '1'; 
                }, 500);

            }, 800);

            // 5. Redirect (Simulated delay)
            setTimeout(() => {
                window.location.href = "index.html"; // Reloads page to hit the 'if loaded after launch' logic or main site URL
            }, 4000);
        }

        function triggerPostLaunchState() {
            // Immediate state if visited after launch
            mainScreen.style.display = 'none';
            testScreen.style.display = 'none';
            launchOverlay.style.display = 'block';
            whiteFlash.style.display = 'none';
            crackGraphic.style.display = 'none';
            postLaunchMessage.style.opacity = '1';
            
            // Maybe add a button here to enter the "Actual" shop
            const enterBtn = document.createElement('a');
            enterBtn.innerText = "ENTER STORE";
            enterBtn.className = "btn-cold font-brutal mt-8 block mx-auto text-center cursor-pointer";
            enterBtn.style.width = "fit-content";
            postLaunchMessage.querySelector('div').appendChild(enterBtn);
        }

    </script>
</body>
</html>
